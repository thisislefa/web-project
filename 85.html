<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portfolio Navigator</title>
    <!-- Load Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Load Lucide Icons for aesthetic UI elements -->
    <script type="module" src="https://unpkg.com/lucide@latest"></script>

    <!--
    ====================================================================
    CONSOLIDATED CSS STYLES (NO SEPARATE FILE DUE TO SINGLE-FILE MANDATE)
    All custom styles and variables are defined here for easy editing.
    ====================================================================
    -->
    <style>
        /* Define custom colors as CSS variables for explicit reference */
        :root {
            --blue-main: #0091ff;      /* Primary Accent Color */
            --dark-text: #080d1b;      /* Primary Text/Dark Background */
            --bg-light: #f4f4f4;       /* Light Background (Close to gray-100) */
            --border-light: #e5e5e5;   /* Light Border Color (Close to gray-200) */
            --white: #ffffff;
        }

        /* Base Styles: Use Inter font and set base colors */
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-light);
            color: var(--dark-text);
        }
        
        /* Custom scrollbar styling for a cleaner look - used on scrollable containers */
        .custom-scroll::-webkit-scrollbar {
            width: 6px;
        }
        .custom-scroll::-webkit-scrollbar-thumb {
            background-color: var(--border-light); /* #e5e5e5 */
            border-radius: 3px;
        }
        .custom-scroll::-webkit-scrollbar-track {
            background-color: var(--bg-light); /* #f4f4f4 */
        }

        /* Explicit CSS Helper Classes (Used where Tailwind classes don't match custom hex exactly) */
        
        .bg-custom-light {
            background-color: var(--bg-light);
        }
        
        .border-custom-light {
            border-color: var(--border-light);
        }

        .text-blue-main {
            color: var(--blue-main);
        }

        .bg-blue-main {
            background-color: var(--blue-main);
        }

        .bg-blue-main-10 { /* Used for the category tags: 10% opacity of #0091ff */
            background-color: rgba(0, 145, 255, 0.1); 
        }

        /* Active list item style - overrides hover for persistent selection */
        .project-list-item.active {
            background-color: var(--bg-light);
            border-left: 4px solid var(--blue-main);
        }
    </style>

    
</head>
<body class="bg-custom-light min-h-screen text-dark-text">

    <!--
    ====================================================================
    HTML STRUCTURE SECTION
    - Using custom CSS classes (e.g., text-blue-main) defined above.
    - Border radius remains sharp (rounded-sm) as per your last request.
    ====================================================================
    -->

    <div class="mx-auto p-4 lg:p-8">
        <header class="mb-6 lg:mb-10 text-center">
            <h1 class="text-4xl lg:text-5xl font-extrabold text-blue-main tracking-tight">Our Work & Projects</h1>
            <p class="text-lg text-gray-500 mt-2">A curated view of our 100+ accomplishments across all services.</p>
        </header>

        <!-- Main Grid Container for Desktop -->
        <div id="portfolio-container-nav-tag" class="lg:grid lg:grid-cols-12 gap-6 h-[calc(100vh-180px)]">

            <!-- 1. Category Filter Panel (Left) -->
            <aside class="col-span-12 lg:col-span-3 bg-white p-4 lg:p-6 shadow-xl rounded-sm mb-6 lg:mb-0 h-auto lg:h-full lg:sticky lg:top-8">
                <h3 class="text-xl font-bold text-dark-text mb-4 flex items-center">
                    <i data-lucide="filter" class="w-5 h-5 mr-2 text-blue-main"></i> Service Areas
                </h3>
                <div id="category-filter-container-nav-tag" class="grid grid-cols-2 lg:grid-cols-1 gap-3">
                    <!-- Category buttons will be rendered here by JS -->
                </div>
            </aside>

            <!-- Back Button for Mobile Detail View (Hidden on Desktop) -->
            <button id="back-to-list-button-nav-tag" class="lg:hidden fixed bottom-4 left-1/2 -translate-x-1/2 bg-blue-main text-white p-3 rounded-sm shadow-lg z-50 transition-transform duration-300 hidden items-center" onclick="showList()">
                <i data-lucide="arrow-left" class="w-5 h-5 mr-1"></i> Back to List
            </button>


            <!-- 2. Scrollable Project List (Center) -->
            <div id="project-list-panel-nav-tag" class="col-span-12 lg:col-span-4 bg-white shadow-xl rounded-sm overflow-hidden h-full">
                <div class="p-4 bg-custom-light border-b border-custom-light">
                    <h3 class="text-xl font-bold text-dark-text">Projects List <span id="current-category-name-nav-tag" class="text-base font-normal text-blue-main ml-2"></span></h3>
                </div>
                <div id="project-list-nav-tag" class="custom-scroll overflow-y-auto divide-y divide-custom-light h-[calc(100%-60px)]">
                    <!-- Project list items will be rendered here by JS -->
                </div>
            </div>

            <!-- 3. Project Detail View (Right) -->
            <div id="project-detail-nav-tag" class="col-span-12 lg:col-span-5 bg-white p-6 shadow-xl rounded-sm h-full custom-scroll overflow-y-auto">
                <div id="detail-content-nav-tag">
                    <div class="text-center py-20 text-gray-400">
                        <i data-lucide="info" class="w-10 h-10 mx-auto mb-3"></i>
                        <p class="text-lg font-semibold">Select a project from the list to view its full details.</p>
                        <p class="text-sm mt-1">This panel will update dynamically with the case study.</p>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <!--
    ====================================================================
    JAVASCRIPT LOGIC AND DATA SECTION
    - Contains all data definitions, state management, and functions.
    ====================================================================
    -->
    <script>
        // --- Data Definitions (PROJECTS and CATEGORIES) ---

        // The master list of all projects.
        const PROJECTS = [
            {
                id: 'p1',
                title: 'Global E-commerce Platform Rebuild',
                category: 'Software Development',
                subCategories: ['E-commerce', 'Database Management', 'Web Applications'],
                description: 'A comprehensive, six-month overhaul of a legacy e-commerce system for a retail client operating in 12 countries. We migrated the backend from monolithic architecture to a modern microservices framework, optimized database queries, and implemented a new React frontend.',
                outcome: 'The new platform resulted in a **40% reduction in cart abandonment**, a 55% increase in page load speed, and reduced server costs by 20%.',
                techStack: ['React', 'Node.js', 'PostgreSQL', 'AWS Lambda', 'Tailwind CSS'],
                timeline: '6 Months',
                teamSize: 3,
                teamExpertise: '1 Frontend Developer, 1 Backend Engineer, 1 DevOps Specialist',
                projectManager: { name: 'Alex Johnson', expertise: 'Solution Architecture, Project Risk Management' }
            },
            {
                id: 'p2',
                title: 'Hybrid Cloud Infrastructure Migration',
                category: 'IT Infrastructure',
                subCategories: ['Cloud Computing', 'IT Consulting', 'Data Center Management'],
                description: 'Strategized and executed a complex migration of key production services to a hybrid Google Cloud/on-premise environment. This involved establishing secure VPN tunnels, implementing automated failover protocols, and retraining the in-house IT team.',
                outcome: 'Achieved **99.99% uptime** post-migration, ensured regulatory compliance, and provided the client with superior scalability options for future growth.',
                techStack: ['Google Cloud Platform (GCP)', 'Terraform', 'Kubernetes', 'Cisco Networking'],
                timeline: '10 Weeks',
                teamSize: 5,
                teamExpertise: '3 Infrastructure Engineers, 1 Network Specialist, 1 Security Analyst',
                projectManager: { name: 'Sarah Chen', expertise: 'Cloud Strategy, Disaster Recovery Planning' }
            },
            {
                id: 'p3',
                title: 'High-Availability B2B SaaS API',
                category: 'Software Development',
                subCategories: ['API Development', 'Web Applications'],
                description: 'Built a high-availability REST API from scratch for a B2B Software-as-a-Service product. The API manages real-time financial transaction data and requires strict security protocols and performance metrics.',
                outcome: 'The API is currently handling over **1 million requests daily** with an average latency of under 50ms, enabling our client to expand their service offering globally.',
                techStack: ['Python (Flask)', 'Redis', 'JWT Authentication', 'Azure'],
                timeline: '4 Months',
                teamSize: 2,
                teamExpertise: '2 Backend Developers (focused on security & performance)',
                projectManager: { name: 'Michael Rodriguez', expertise: 'Agile Development, API Governance' }
            },
            {
                id: 'p4',
                title: 'Smart Queue Management System (QMS)',
                category: 'IT Infrastructure',
                subCategories: ['Smart Technology', 'Automation & AI', 'IT Support'],
                description: 'Designed and installed a smart queue management system for a major retail bank across 50 branches. The system uses AI to predict wait times and automatically allocate customers to the correct service agent.',
                outcome: 'The implementation reduced average customer wait times by **30%** and improved branch operational efficiency by 15%.',
                techStack: ['Custom POS Hardware', 'Raspberry Pi/Edge Computing', 'Python/ML Algorithms', 'LAN/WAN'],
                timeline: '9 Months (Pilot to Rollout)',
                teamSize: 7,
                teamExpertise: '2 Hardware Engineers, 3 Software/ML Developers, 2 Onsite Support Specialists',
                projectManager: { name: 'Jessica Lee', expertise: 'Smart Technology Integration, Logistics Management' }
            },
            {
                id: 'p5',
                title: '12-Month Multi-Channel Digital Strategy',
                category: 'Marketing & Creative Studio',
                subCategories: ['Digital Marketing', 'Advertising Campaigns', 'Content Management'],
                description: 'Full-service digital campaign planning and execution for a new product launch. This included developing an SEO strategy, managing paid media (Google Ads, Social), and creating weekly content assets.',
                outcome: 'The campaign achieved a **250% Return on Ad Spend (ROAS)** over the 12-month period and increased organic traffic by 180%.',
                techStack: ['Google Analytics', 'HubSpot', 'Adobe Creative Suite', 'SEO Tools'],
                timeline: '12 Months (Ongoing Retainer)',
                teamSize: 4,
                teamExpertise: '1 Digital Strategist, 1 Graphic Designer, 1 Content Writer, 1 Media Buyer',
                projectManager: { name: 'David Kim', expertise: 'Performance Marketing, Brand Strategy' }
            },
            {
                id: 'p6',
                title: 'Corporate Rebrand & Content Overhaul',
                category: 'Marketing & Creative Studio',
                subCategories: ['Graphic Design', 'Multimedia Production', 'Content Management'],
                description: 'A complete refresh of a long-standing financial firm\'s visual identity. This involved logo redesign, new brand guidelines, photography/video shoots, and the creation of over 50 foundational marketing documents.',
                outcome: 'Successfully modernized the brand image, increased employee adoption of brand guidelines by 95%, and improved customer engagement rates on social media by 40%.',
                techStack: ['Adobe Illustrator', 'Premier Pro', 'Figma', 'Brand Management Software'],
                timeline: '5 Months',
                teamSize: 3,
                teamExpertise: '1 Lead Designer, 1 Content Strategist, 1 Multimedia Producer',
                projectManager: { name: 'David Kim', expertise: 'Performance Marketing, Brand Strategy' }
            },
            {
                id: 'p7',
                title: 'Secure Blockchain Ledger Implementation',
                category: 'Software Development',
                subCategories: ['Blockchain & Web3', 'API Development', 'Database Management'],
                description: 'Developed a permissioned private blockchain ledger for supply chain transparency. The system ensures immutable record-keeping and integrates with existing ERP systems via a custom API gateway.',
                outcome: 'Provided end-to-end traceability for sensitive goods, reducing disputes and enabling instant, auditable compliance reports.',
                techStack: ['Hyperledger Fabric', 'Solidity (for smart contracts)', 'Java', 'REST API'],
                timeline: '8 Months',
                teamSize: 4,
                teamExpertise: '2 Blockchain Developers, 1 Security Engineer, 1 Backend Developer',
                projectManager: { name: 'Alex Johnson', expertise: 'Solution Architecture, Project Risk Management' }
            },
        ];

        const CATEGORIES = [
            { name: 'Software Development', icon: 'code' },
            { name: 'IT Infrastructure', icon: 'server' },
            { name: 'Marketing & Creative Studio', icon: 'palette' }
        ];

        // --- State and DOM Element Variables ---
        let activeCategory = 'All';
        let activeProject = null;

        const listPanel = document.getElementById('project-list-panel-nav-tag');
        const detailPanel = document.getElementById('project-detail-nav-tag');
        const backButton = document.getElementById('back-to-list-button-nav-tag');

        // --- Core Functions ---

        /**
         * Renders the category filter buttons on the left panel.
         */
        function renderCategories() {
            const container = document.getElementById('category-filter-container-nav-tag');
            container.innerHTML = '';

            // Add 'All' category first
            const allButton = createCategoryButton('All', 'list-check');
            container.appendChild(allButton);

            CATEGORIES.forEach(cat => {
                const button = createCategoryButton(cat.name, cat.icon);
                container.appendChild(button);
            });

            // Ensure 'All' is active on load
            document.querySelector(`[data-category="All"]`).classList.add('bg-blue-main', 'text-white', 'shadow-md');
            // Wait for Lucide icons to process
            lucide.createIcons();
        }

        /**
         * Creates a category button element.
         */
        function createCategoryButton(name, icon) {
            const button = document.createElement('button');
            // Updated classes to use custom color mapping and rounded-sm
            button.className = 'category-button w-full text-left p-3 rounded-sm font-semibold text-dark-text hover:bg-blue-main hover:text-white transition duration-150 flex items-center bg-custom-light';
            button.setAttribute('data-category', name);
            button.innerHTML = `<i data-lucide="${icon}" class="w-4 h-4 mr-2"></i> ${name}`;
            button.onclick = () => filterProjects(name);
            return button;
        }

        /**
         * Filters the project list based on the selected category and updates the UI.
         */
        function filterProjects(category) {
            activeCategory = category;

            // Update button styles
            document.querySelectorAll('.category-button').forEach(btn => {
                btn.classList.remove('bg-blue-main', 'text-white', 'shadow-md');
                btn.classList.add('bg-custom-light', 'text-dark-text');
            });

            const activeBtn = document.querySelector(`[data-category="${category}"]`);
            if (activeBtn) {
                activeBtn.classList.remove('bg-custom-light', 'text-dark-text');
                activeBtn.classList.add('bg-blue-main', 'text-white', 'shadow-md');
            }

            // Update main list header
            document.getElementById('current-category-name-nav-tag').textContent = category === 'All' ? '(Showing All)' : `(${category})`;

            const filteredProjects = PROJECTS.filter(p => category === 'All' || p.category === category);
            renderProjectList(filteredProjects);
        }

        /**
         * Renders the scrollable list of projects.
         */
        function renderProjectList(projects) {
            const listContainer = document.getElementById('project-list-nav-tag');
            listContainer.innerHTML = '';

            if (projects.length === 0) {
                listContainer.innerHTML = '<p class="p-6 text-gray-500 text-center">No projects found in this category.</p>';
                return;
            }

            projects.forEach(project => {
                const item = document.createElement('div');
                item.id = `list-item-${project.id}-nav-tag`;
                // Uses standard Tailwind hover/cursor classes
                item.className = 'project-list-item p-4 hover:bg-gray-100 cursor-pointer transition duration-150';
                item.setAttribute('data-project-id', project.id);
                item.onclick = () => showProjectDetail(project.id);

                item.innerHTML = `
                    <p class="text-lg font-semibold text-dark-text">${project.title}</p>
                    <p class="text-sm text-blue-main font-medium mt-1">${project.category}</p>
                    <p class="text-sm text-gray-500 mt-1 line-clamp-2">${project.description.substring(0, 100)}...</p>
                `;
                listContainer.appendChild(item);
            });

            // Re-select the first project in the new list, or clear details
            if (projects.length > 0) {
                showProjectDetail(projects[0].id);
            } else {
                renderEmptyDetail();
            }
        }

        /**
         * Finds a project by ID and displays its details.
         */
        function showProjectDetail(projectId) {
            const project = PROJECTS.find(p => p.id === projectId);

            if (!project) {
                console.error("Project not found:", projectId);
                return;
            }

            activeProject = projectId;

            // Highlight the active item in the list
            document.querySelectorAll('.project-list-item').forEach(item => {
                item.classList.remove('active');
            });
            const activeItem = document.getElementById(`list-item-${projectId}-nav-tag`);
            if (activeItem) {
                activeItem.classList.add('active'); // Uses the .active CSS class defined in the <style> block
            }

            // Render the details
            const detailContent = document.getElementById('detail-content-nav-tag');

            const subCatHtml = project.subCategories.map(cat =>
                // Uses the explicit bg-blue-main-10 class for the tag background
                `<span class="inline-block bg-blue-main-10 text-blue-main text-xs font-semibold px-3 py-1 rounded-sm">${cat}</span>`
            ).join('');

            const techStackHtml = project.techStack.map(tech =>
                // Uses custom border-custom-light for a light grey background
                `<span class="inline-block bg-custom-light text-dark-text/80 text-sm px-3 py-1 rounded-sm mr-2 mb-2">${tech}</span>`
            ).join('');

            detailContent.innerHTML = `
                <h2 class="text-3xl font-extrabold text-dark-text">${project.title}</h2>
                <div class="mt-2 mb-4">
                    ${subCatHtml}
                </div>
                
                <p class="text-sm font-medium text-gray-500 border-b border-custom-light pb-2 mb-4">${project.category} Case Study</p>

                <div class="space-y-8">
                    
                    <!-- Project Meta Information (Timeline and Team) -->
                    <div class="grid grid-cols-2 gap-4 text-sm font-medium">
                        <div>
                            <p class="text-gray-500 flex items-center mb-1"><i data-lucide="calendar" class="w-4 h-4 mr-2 text-blue-main"></i> Timeline</p>
                            <p class="text-dark-text font-semibold">${project.timeline}</p>
                        </div>
                        <div>
                            <p class="text-gray-500 flex items-center mb-1"><i data-lucide="users" class="w-4 h-4 mr-2 text-blue-main"></i> Team Size</p>
                            <p class="text-dark-text font-semibold">${project.teamSize} members</p>
                        </div>
                        <div class="col-span-2">
                            <p class="text-gray-500 flex items-center mb-1"><i data-lucide="monitor-check" class="w-4 h-4 mr-2 text-blue-main"></i> Team Expertise</p>
                            <p class="text-dark-text text-sm">${project.teamExpertise}</p>
                        </div>
                    </div>

                    <div class="border-t border-custom-light pt-6">
                        <h3 class="text-xl font-bold text-dark-text flex items-center"><i data-lucide="file-text" class="w-5 h-5 mr-2 text-blue-main"></i> Project Summary</h3>
                        <p class="text-gray-600 mt-2 leading-relaxed">${project.description}</p>
                    </div>

                    <!-- Key Outcome Section -->
                    <div class="bg-custom-light border-l-4 border-blue-main p-4 rounded-sm shadow-sm">
                        <h3 class="text-xl font-bold text-dark-text flex items-center"><i data-lucide="trending-up" class="w-5 h-5 mr-2 text-blue-main"></i> Key Outcome</h3>
                        <p class="text-dark-text mt-2 font-medium">${project.outcome}</p>
                    </div>
                    
                    <!-- Project Manager Section -->
                    <div class="border-t border-custom-light pt-6">
                        <h3 class="text-xl font-bold text-dark-text flex items-center"><i data-lucide="user-check" class="w-5 h-5 mr-2 text-blue-main"></i> Project Manager</h3>
                        <div class="mt-3 p-3 bg-custom-light rounded-sm">
                            <p class="font-bold text-dark-text">${project.projectManager.name}</p>
                            <p class="text-sm text-gray-600 mt-1">${project.projectManager.expertise}</p>
                        </div>
                    </div>

                    <div>
                        <h3 class="text-xl font-bold text-dark-text flex items-center"><i data-lucide="bolt" class="w-5 h-5 mr-2 text-blue-main"></i> Technologies Used</h3>
                        <div class="mt-3">
                            ${techStackHtml || '<p class="text-gray-500">N/A</p>'}
                        </div>
                    </div>

                    <div class="pt-4 border-t border-custom-light">
                        <a href="#" class="inline-flex items-center text-blue-main hover:text-dark-text font-semibold transition duration-150">
                            View Full Case Study <i data-lucide="arrow-right" class="w-4 h-4 ml-2"></i>
                        </a>
                    </div>
                </div>
            `;

            // Handle mobile view transition
            if (window.innerWidth < 1024) {
                showDetail();
            }

            // Wait for Lucide icons to process
            lucide.createIcons();
            // Scroll detail panel to top
            detailContent.closest('.custom-scroll').scrollTop = 0;
        }

        /**
         * Renders the initial empty state of the detail panel.
         */
        function renderEmptyDetail() {
            const detailContent = document.getElementById('detail-content-nav-tag');
            detailContent.innerHTML = `
                <div class="text-center py-20 text-gray-400">
                    <i data-lucide="info" class="w-10 h-10 mx-auto mb-3"></i>
                    <p class="text-lg font-semibold">Select a project from the list to view its full details.</p>
                    <p class="text-sm mt-1">This panel will update dynamically with the case study.</p>
                </div>
            `;
            lucide.createIcons();
        }

        // --- Mobile View Management Functions ---

        /**
         * Mobile function: Hides the list and shows the detail.
         */
        function showDetail() {
            listPanel.style.display = 'none';
            detailPanel.style.display = 'block';
            backButton.classList.remove('hidden');
            backButton.classList.add('flex');
        }

        /**
         * Mobile function: Shows the list and hides the detail.
         */
        function showList() {
            listPanel.style.display = 'block';
            detailPanel.style.display = 'none';
            backButton.classList.remove('flex');
            backButton.classList.add('hidden');
            // If the user navigates back to the list, scroll the list to the active item
            if (activeProject) {
                const activeItem = document.getElementById(`list-item-${activeProject}-nav-tag`);
                activeItem?.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }
        }


        // --- Initialization ---
        window.onload = () => {
            renderCategories();
            filterProjects('All'); // Initial load of all projects

            // Initial mobile check to set display state
            if (window.innerWidth < 1024) {
                detailPanel.style.display = 'none';
            }
        };

        // Resize observer to manage mobile view state (ensures layout handles device rotation/resizing)
        window.addEventListener('resize', () => {
            if (window.innerWidth >= 1024) {
                // Desktop view: ensure both panels are visible
                listPanel.style.display = 'block';
                detailPanel.style.display = 'block';
                backButton.classList.add('hidden');
            } else {
                // Mobile view: if a project is selected, show detail; otherwise, show list
                if (activeProject) {
                    showDetail();
                } else {
                    showList();
                }
            }
        });

    </script>
</body>
</html>
